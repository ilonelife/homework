<!DOCTYPE html>
<html>
    <head>
        <title>웹 포토샵</title>
        <style>
            body {
                display: block;
                margin-left: auto;
                margin-right: auto;
                text-align: center;
                align-items: center;
                gap: 10px;
                height: 80vh;
            }

            #display_image {
                width: 500px;
                height: 500px;
                border: 1px sokid black;
                background-position: center;
                background-size: cover;
                margin-top: 50px;

            }
            button {
                padding: 10px 20px;
                border: 1px solid;
                border-color: blue;
                background-color: white;
            }
        </style>
    </head>
    <body>
        <div>
            <div>
                <img id="display_image" src=""/>
            </div>
            <br/>
            <input type="file" id="image">
        </div>
        <br/>
        <div>
            <div>
                <button id="gray">회색으로</button>
                <button id="blurred">흐리게</button>
                <button id="shadow">그림자</button>
                <button id='opacity'>50%투명</button>
            </div>
            <br/>
            <div>
                <button id="ratate_left">좌로 90도 회전</button>
                <button id="ratate_right">우로 90도 회전</button>
                <button id="init">이미지 초기화</button>
            </div>
        </div>

    </body>
    <script>

        const image_name = document.getElementById("display_image");

        document
            .getElementById('image')
            .addEventListener('click', function () {
                var image_input = prompt('이미지 선택');
                var extension = image_input
                    .substring(image_input.lastIndexOf('.') + 1)
                    .toLowerCase();

                console.log(image_input);
                if (extension == "jpeg" || extension == "jpg") {
                    image_name.src = image_input;
                } else {
                    alert("이미지 파일이 아닙니다. 다시 입력하세요");
                }
            })

        document.getElementById("gray").addEventListener("click", function() {
            image_name.style.filter = "grayscale(80%)";
        })

        document.getElementById("blurred").addEventListener("click", function() {
            image_name.style.filter = "blur(4px)";
        })

        document.getElementById("shadow").addEventListener("click", function() {
            image_name.style.filter = "drop-shadow(16px 16px 20px red) invert(75%)";
        })

        document.getElementById("opacity").addEventListener("click", function() {
            image_name.style.filter = "opacity(25%)";
        })

        document.getElementById("ratate_left").addEventListener("click", function() {
            image_name.style.transform = "rotate(270deg)";
        })

        document.getElementById("ratate_right").addEventListener("click", function() {
            image_name.style.transform = "rotate(90deg)";
        })

        document.getElementById("init").addEventListener("click", function() {
            image_name.style.filter = "none";
            image_name.style.transform = "initial";
        })

        
    </script>
</html>